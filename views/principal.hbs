<main>
  
    <div class="container">
    
      <div class="row d-flex align-items-center justify-content-center">
        <div class="col-12 d-flex align-items-center justify-content-center titulo">
          <h1 class="font-effect-outline">Mucho te quiero perrito</h1>
        </div>
        <div class="col-12 col-sm-6">
        
        <div class="col-12 d-flex align-items-center justify-content-center formulario">
          <form method="post" action="/citas/procesar">
                  <div class="form-group row">
                    <label for="nombre" class="col-4 col-form-label">Nombre y Apellidos</label> 
                    <div class="col-8">
                      <input id="nombre" name="nombre" placeholder="Introduzca su nombre" type="text" class="form-control" value="{{cita.nombre}}">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="email" class="col-4 col-form-label">E-mail</label> 
                    <div class="col-8">
                      <div class="input-group">
                        <input id="email" name="email" type="text" required="required" class="form-control"> 
                        <div class="input-group-append">
                          <div class="input-group-text">
                            <i class="fa fa-at"></i>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="telefono" class="col-4 col-form-label">Teléfono</label> 
                    <div class="col-8">
                      <div class="input-group">
                        <input id="telefono" name="telefono" placeholder="Introduzca su teléfono de contacto" type="number" class="form-control"> 
                        <div class="input-group-append">
                          <div class="input-group-text">
                            <i class="fa fa-phone"></i>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div> 
                  <div class="form-group row">
                    <label for="fecha" class="col-4 col-form-label">Seleccione Fecha</label> 
                    <div class="col-8">
                      <div class="input-group">
                        <input id="fecha" name="fecha"  type="date" class="form-control"> 
                        <div class="input-group-append">
                         
                        </div>
                      </div>
                    </div>
                  </div>       
                  <div class="form-group row">
                    <label for="hora" class="col-4 col-form-label">Seleccione una hora</label> 
                    <div class="col-8">
                      <div class="input-group">
                        <select id="hora" name="hora">
                        <option value="" selected="selected" placeholder="Introduzca su teléfono de contacto">- Elija su hora -</option>
                        
                        <option value="10:00">10:00</option>
                        <option value="11:00">11:00</option>
                        <option value="12:00">12:00</option>
                        <option value="13:00">13:00</option>
                        <option value="14:00">14:00</option>
                        
                        </select>
                        <div class="input-group-append">
                          
                        </div>
                      </div>
                    </div>
                  </div>
      <div class="row">
        <div class="col-12">
          {{#if errores}}
          <p>Ha cometido los siguientes errores al introducir sus datos en el formulario.
              Por favor, revíselos, y vuelva a intentarlo:</p>
          <ul >
          {{#each errores}}
          <li style="color:red">
                {{mensaje1}}
                {{mensaje2}}
                {{mensaje3}}
                {{mensaje4}}
          </li>
          {{/each}}
          </ul>
          {{/if}}

        </div>
      </div>       
                  <div class="form-group row">
                    <div class="offset-4 col-8">
                      <button name="submit" type="submit" class="btn btn-dark">Enviar</button>
                    </div>
                  </div>

          </form>
         </div> 
         </div>  

          <div class="col-12 col-sm-6">
      <div id='calendar'></div>
        
      
        </div>
      </div>
    </div>
  

{{!-- CALENDARIO DE FECHAS RESERVADAS --}}
     <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.5.0/main.min.css' rel='stylesheet' />
      <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.5.0/main.min.js'></script>
      <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.5.0/locales-all.js'></script>

      

                        <style>
                          #calendar {
                            max-width: 1100px;
                            margin: 40px auto;
                            background-color: pink;
                           
                          }
                        </style>


                        
                      <script>

                        document.addEventListener('DOMContentLoaded', function() {
                          var calendarEl = document.getElementById('calendar');

                          var calendar = new FullCalendar.Calendar(calendarEl, {
                            initialView: 'dayGridMonth',
                            initialDate: '2021-01-01',
                            headerToolbar: {
                              left: 'prev,next today',
                              center: 'title',
                              right: 'dayGridMonth'
                            },
                            locale: 'es',
                            events: [
                             {{#each citas}}
                              {
                                title: "{{hora}}",
                                start: "{{fecha}}"
                              },
                            {{/each}}
                            ]
                           
                          });

                          calendar.render();
                        });

                      </script>
    <div class="row">
     
    </div>
  
   
</main>